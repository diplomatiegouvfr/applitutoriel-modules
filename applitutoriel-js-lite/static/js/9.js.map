{"version":3,"sources":["webpack:///./src/routes/ref/ref-server-routes.ts","webpack:///../applitutoriel-js-common/src/utils/roles.ts?143f*****","webpack:///../applitutoriel-js-common/src/actions/ref/ref-actions.ts"],"names":[],"mappings":";;;;;;;;;AAAA,+CAAwC;AAExC,iDAAyF;AAEzF,gDAA2F;AAC3F,uCAAgE;AAEhE,sCAIgD;AAChD,sDAAyF;AAEzF,IAAM,MAAM,GAAW,uBAAK,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;AAE9E;IAAqD,mDAAc;IAE/D;QAAA,YAEI,iBAAO,SAsBV;QApBG,KAAI,CAAC,YAAY,CAAC,qBAAc,EAC5B,cAAM,WAAI,gCAAc,CAAC,iBAAiB,CAAC,YAAY,EAAE,IAAI,EAAE,kDAA0B,CAAC,EAApF,CAAoF,EAC1F,aAAK,CAAC,KAAK,CACd,CAAC;QAEF,KAAI,CAAC,YAAY,CAAC,eAAQ,EACtB,cAAM,WAAI,gCAAc,CAAC,iBAAiB,CAAC,UAAU,EAAE,IAAI,EAAE,kDAA0B,CAAC,EAAlF,CAAkF,EACxF,aAAK,CAAC,KAAK,CACd,CAAC;QAEF,KAAI,CAAC,YAAY,CAAC,0BAAmB,EACjC,cAAM,WAAI,gCAAc,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,IAAI,EAAE,kDAA0B,CAAC,EAA1F,CAA0F,EAChG,aAAK,CAAC,KAAK,CACd,CAAC;QAEF,KAAI,CAAC,YAAY,CAAC,0BAAmB,GAAG,YAAY,EAChD,cAAM,WAAI,gCAAc,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,IAAI,EAAE,kDAA0B,CAAC,EAA1F,CAA0F,EAChG,aAAK,CAAC,KAAK,EACX,MAAM,CACT,CAAC;;IACN,CAAC;IACL,8BAAC;AAAD,CAAC,CA3BoD,gCAAc,GA2BlE;;;;;;;;;;;;;AC3CD;;GAEG;AACH;IAAA;IASA,CAAC;IAPU,cAAQ,GAAG,iBAAiB,CAAC;IAC7B,eAAS,GAAG,kBAAkB,CAAC;IAE/B,UAAI,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IACxB,WAAK,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAE1B,cAAQ,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IACxD,YAAC;CAAA;AATY,sBAAK;;;;;;;;;;;;;ACHlB,+CAAwC;AAGxC,gDAA+E;AAE/E,IAAM,MAAM,GAAW,uBAAK,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC;AAEhF;IAAgC,sCAA+C;IAA/E;;IAIA,CAAC;IAHG,4BAAO,GAAP;QACI,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,EAAE,CAAC;IAC1C,CAAC;IACL,iBAAC;AAAD,CAAC,CAJ+B,oCAAkB,GAIjD;AAJY,gCAAU;AAMvB;IAAkC,wCAA+C;IAAjF;;IAKA,CAAC;IAJG,8BAAO,GAAP;QACI,MAAM,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;QACvD,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,YAAY,EAAE,CAAC;IAC5C,CAAC;IACL,mBAAC;AAAD,CAAC,CALiC,oCAAkB,GAKnD;AALY,oCAAY;AAOzB;IAAwC,8CAA+C;IAAvF;;IAQA,CAAC;IAPG,oCAAO,GAAP;QACI,IAAI,OAAO,GAAQ,EAAE,CAAC;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAChB,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAChC,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,sBAAsB,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IAC1E,CAAC;IACL,yBAAC;AAAD,CAAC,CARuC,oCAAkB,GAQzD;AARY,gDAAkB","file":"js/9.js","sourcesContent":["import { Utils } from \"hornet-js-utils\";\r\nimport { Logger } from \"hornet-js-utils/src/logger\";\r\nimport * as ReferentielAction from \"applitutoriel-js-common/src/actions/ref/ref-actions\";\r\n\r\nimport { AbstractRoutes, DataRouteInfos } from \"hornet-js-core/src/routes/abstract-routes\";\r\nimport { Roles } from \"applitutoriel-js-common/src/utils/roles\";\r\n\r\nimport {\r\n    URL_PAYS,\r\n    URL_REF_NATIONALITE,\r\n    URL_REF_VILLES\r\n} from \"applitutoriel-js-common/src/utils/urls\";\r\nimport { ReferentielPaysServiceImpl } from \"src/services/data/ref/ref-pays-service-impl\";\r\n\r\nconst logger: Logger = Utils.getLogger(\"applitutoriel.routes.ref.ref-routes\");\r\n\r\nexport default class ReferentielRoutesServer extends AbstractRoutes {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n\r\n        this.addDataRoute(URL_REF_VILLES,\r\n            () => new DataRouteInfos(ReferentielAction.ListerVilles, null, ReferentielPaysServiceImpl),\r\n            Roles.ADMIN\r\n        );\r\n\r\n        this.addDataRoute(URL_PAYS,\r\n            () => new DataRouteInfos(ReferentielAction.ListerPays, null, ReferentielPaysServiceImpl),\r\n            Roles.ADMIN\r\n        );\r\n\r\n        this.addDataRoute(URL_REF_NATIONALITE,\r\n            () => new DataRouteInfos(ReferentielAction.ListerNationalites, null, ReferentielPaysServiceImpl),\r\n            Roles.ADMIN\r\n        );\r\n        \r\n        this.addDataRoute(URL_REF_NATIONALITE + \"/recherche\",\r\n            () => new DataRouteInfos(ReferentielAction.ListerNationalites, null, ReferentielPaysServiceImpl),\r\n            Roles.ADMIN,\r\n            \"post\"\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ref/ref-server-routes.ts","/**\r\n * Classe regroupant les r√¥les disponibles dans l'appli-tuto\r\n */\r\nexport class Roles {\r\n\r\n    static USER_STR = \"APPLI_TUTO_USER\";\r\n    static ADMIN_STR = \"APPLI_TUTO_ADMIN\";\r\n\r\n    static USER = [Roles.USER_STR];\r\n    static ADMIN = [Roles.ADMIN_STR];\r\n\r\n    static EVERYONE = [Roles.USER_STR, Roles.ADMIN_STR];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../applitutoriel-js-common/src/utils/roles.ts","import { Utils } from \"hornet-js-utils\";\r\nimport { Logger } from \"hornet-js-utils/src/logger\";\r\nimport { ReferentielPaysService } from \"src/services/page/ref/ref-pays-service\";\r\nimport { RouteActionService } from \"hornet-js-core/src/routes/abstract-routes\";\r\n\r\nconst logger: Logger = Utils.getLogger(\"applitutoriel.actions.ref.ref-actions\");\r\n\r\nexport class ListerPays extends RouteActionService<any, ReferentielPaysService> {\r\n    execute(): Promise<any> {\r\n        return this.getService().listerPays();\r\n    }\r\n}\r\n\r\nexport class ListerVilles extends RouteActionService<any, ReferentielPaysService> {\r\n    execute(): Promise<any> {\r\n        logger.trace(\"Action: ListerVilles, appel api villes\");\r\n        return this.getService().listerVilles();\r\n    }\r\n}\r\n\r\nexport class ListerNationalites extends RouteActionService<any, ReferentielPaysService> {\r\n    execute(): Promise<any> {\r\n        let payload: any = {};\r\n        if (this.req.body) {\r\n            payload = this.getPayload();\r\n        }\r\n        return this.getService().rechercherNationalites(payload.nationnalite);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../applitutoriel-js-common/src/actions/ref/ref-actions.ts"],"sourceRoot":""}